> ë¶€íŠ¸ìº í”„ 4ì£¼ì°¨ 2022ë…„ 11ì›” 07ì¼

- **í…Œì´ë¸” ì¡°ì¸ ì‹¤ìŠµ 2**
    
    
    **1)** ëª¨ë“  ë¶€ì„œì˜ ì´ë¦„ê³¼ í˜„ì¬ ê´€ë¦¬ìì˜ ì‚¬ë²ˆ ì¡°íšŒí•˜ê¸° + ê´€ë¦¬ì ì´ë¦„
    
    ```sql
    select a.dept_name ë¶€ì„œëª…, b.emp_no ì‚¬ë²ˆ, concat(c.first_name, ' ', c.last_name) 'í˜„ì¬ ê´€ë¦¬ì'
    	from departments a
        left join dept_manager b
    		on a.dept_no = b.dept_no
    	left join employees c
    		on b.emp_no = c.emp_no;
    -- where sysdate() between from_date and to_date;
    ```
    
    **2)** employees í…Œì´ë¸”ì—ì„œ 1965ë…„ 2ì›” ì´í›„ ì¶œìƒìì˜ ì‚¬ë²ˆ, ì´ë¦„, ìƒì¼, ë¶€ì„œëª…ì„ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬ë¥¼ Natural ì¡°ì¸ìœ¼ë¡œ ì‘ì„±
    
    ```sql
    select a.emp_no ì‚¬ë²ˆ, concat(a.first_name, ' ', a.last_name) ì´ë¦„, a.birth_date ìƒì¼, c.dept_name ë¶€ì„œëª…
    	from employees a
        natural inner join dept_emp b
        natural inner join departments c
        where a.birth_date > '1965-02-00';
     -- where extract(year_month from a.birth_date) >= '196502'; ë¡œ whereì ˆì„ ì‘ì„±í•´ë„ ë™ì¼í•œ ê²°ê³¼
    ```
    
    **3)** departments í…Œì´ë¸”ì—ì„œ Sales ë¶€ì„œì˜ ì½”ë“œ(dept_no) ê°’ì€ 'd007â€™. ì´ ë¶€ì„œì— ì†í•œ "ê´€ë¦¬ìì˜ ì‚¬ë²ˆê³¼ í˜„ì¬ ê¸‰ì—¬", ì´ ë¶€ì„œì— ì†í•œ "ì‚¬ì›ì˜ ì‚¬ë²ˆê³¼ í˜„ì¬ ê¸‰ì—¬"ë¥¼ êµ¬í•˜ëŠ” ì¿¼ë¦¬ ì‘ì„±
    
    ```sql
    -- (1) ê´€ë¦¬ìì˜ ì‚¬ë²ˆê³¼ ê¸‰ì—¬
    select a.emp_no ì‚¬ë²ˆ, b.salary ê¸‰ì—¬
    	from dept_manager a
        inner join salaries b
    		on a.emp_no = b.emp_no
    	where a.dept_no = 'd007'
    	and sysdate() between a.from_date and a.to_date -- í˜„ì¬ ë¶€ì„œì˜ ë§¤ë‹ˆì €ë§Œ
        and sysdate() between b.from_date and b.to_date; -- í˜„ì¬ ê¸‰ì—¬ë§Œ 
        
    -- (2) ì‚¬ì›ì˜ ì‚¬ë²ˆê³¼ ê¸‰ì—¬ 
    select a.emp_no ì‚¬ë²ˆ, b.salary ê¸‰ì—¬
    	from dept_emp a
        inner join salaries b
    		on a.emp_no = b.emp_no
    	where a.dept_no = 'd007'
        and sysdate() between a.from_date and a.to_date -- í˜„ì¬ ë¶€ì„œì˜ ì‚¬ì›ë§Œ
        and sysdate() between b.from_date and b.to_date; -- í˜„ì¬ ê¸‰ì—¬ë§Œ
        
    -- (3) (1)+(2)
    select 'ê´€ë¦¬ì' ì§ê¸‰, a.emp_no ì‚¬ë²ˆ, b.salary ê¸‰ì—¬
    	from dept_manager a
        inner join salaries b
    		on a.emp_no = b.emp_no
    	where a.dept_no = 'd007'
    	and sysdate() between a.from_date and a.to_date
        and sysdate() between b.from_date and b.to_date
    union all
    select 'ì‚¬ì›' ì§ê¸‰, a.emp_no ì‚¬ë²ˆ, b.salary ê¸‰ì—¬
    	from dept_emp a
        inner join salaries b
    		on a.emp_no = b.emp_no
    	where a.dept_no = 'd007'
        and sysdate() between a.from_date and a.to_date
        and sysdate() between b.from_date and b.to_date;
    ```
    

- **ì„œë¸Œì¿¼ë¦¬**
    
    *ë‹¤ë¥¸ ì¿¼ë¦¬ ë‚´ë¶€ì— í¬í•¨ë˜ì–´ ìˆëŠ” SELETE ë¬¸*
    
    ```sql
    -- 1. ìŠ¤ì¹¼ë¼ ì„œë¸Œì¿¼ë¦¬
    select ì»¬ëŸ¼, (ì„œë¸Œì¿¼ë¦¬)
    	from í…Œì´ë¸”
        where ì¡°ê±´ì‹;
    
    -- 2. íŒŒìƒ í…Œì´ë¸”
    select ì»¬ëŸ¼
    	from í…Œì´ë¸”, (ì„œë¸Œì¿¼ë¦¬)
        where ì¡°ê±´ì‹;
    
    -- 3. ì¡°ê±´ ì„œë¸Œì¿¼ë¦¬
    select ì»¬ëŸ¼
    	from í…Œì´ë¸”
        where ê°’ > (ì„œë¸Œì¿¼ë¦¬);
    ```
    
    **1 ) ìŠ¤ì¹¼ë¼ ì„œë¸Œì¿¼ë¦¬** : SELECTë¬¸ì— ë‚˜íƒ€ë‚˜ëŠ” ì„œë¸Œì¿¼ë¦¬ë¡œ, í•˜ë‚˜ì˜ ë ˆì½”ë“œë§Œ ë¦¬í„´ì´ ê°€ëŠ¥
    
    **2 ) íŒŒìƒ í…Œì´ë¸” (ì¸ë¼ì¸ ë·°)** : FROMÂ ë¬¸ì— ë‚˜íƒ€ë‚˜ëŠ” ì„œë¸Œì¿¼ë¦¬ *â† ë³„ì¹­ ì§€ì • í•„ìš”!*
    
    **3 ) ì¡°ê±´ ì„œë¸Œì¿¼ë¦¬ (ì¤‘ì²© ì„œë¸Œì¿¼ë¦¬)** : WHEREÂ ****ë¬¸ì— ë‚˜íƒ€ë‚˜ëŠ” ì„œë¸Œì¿¼ë¦¬
    
    - **ì—°ë„ë³„ 1ìœ„ ì˜í™”ë“¤ì˜ í‰ê·  ë§¤ì¶œì•¡ë³´ë‹¤ í° ì˜í™”ë§Œ ì¡°íšŒ**
        
        ```sql
        select year(release_date), movie_name, sale_amt, avg(sale_amt)
        	from box_office
            where ranks = 1
            group by year(release_date), movie_name;
        ```
        
        â†’ avg(sale_amt) ì»¬ëŸ¼ê°’ìœ¼ë¡œ ì¡°íšŒëœ í‰ê·  ë§¤ì¶œì•¡ì€ 16ê°œ ì˜í™”ì˜ í‰ê· ì´ ì•„ë‹ˆê³  1ìœ„ì¸ ì˜í™” í•œê±´ì˜ í‰ê· ì´ë‹¤! ê·¸ëŸ¬ë¯€ë¡œ **ê³„ì‚° ì‹¤íŒ¨**.
        
        ìœ„ ë¬¸ì œë¥¼ ë‹¨ê³„ë³„ë¡œ í’€ì–´ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.
        
        ```sql
        -- 1ë‹¨ê³„ : 16ê°œ ì˜í™”ì˜ í‰ê· ì„ êµ¬í•œë‹¤
        select avg(sale_amt) -- 81906468809.5
        	from box_office
            where ranks = 1;
        
        -- 2ë‹¨ê³„ : 1ë‹¨ê³„ì—ì„œ êµ¬í•œ í‰ê· ë³´ë‹¤ í° ì˜í™”ë¥¼ ì¡°íšŒ
        select year(release_date), movie_name, sale_amt
        	from box_office
            where ranks = 1
            and sale_amt > 81906468809.5;
        ```
        
        ì´ ì¿¼ë¦¬ë¥¼ í•œë‹¨ê³„ë¡œ ë§Œë“¤ì–´ë³´ì.
        
        **1 )** ìŠ¤ì¹¼ë¼ ì„œë¸Œì¿¼ë¦¬
        
        ```sql
        select year(release_date), movie_name, sale_amt,
        (	select avg(sale_amt)
        		from box_office
            where ranks = 1
        ) average -- 81906468809.5
        	from box_office
            where ranks = 1
            having sale_amt > average;
        ```
        
        **2 )** íŒŒìƒ í…Œì´ë¸” ì„œë¸Œì¿¼ë¦¬
        
        ```sql
        select year(release_date), movie_name, sale_amt
        	from box_office a,
            (	select avg(sale_amt) average
        				from box_office
        				where ranks = 1
        		) b
            where ranks = 1
            and sale_amt > b.average; -- b.average = 81906468809.5
        ```
        
        **3 )** ì¡°ê±´ ì„œë¸Œì¿¼ë¦¬
        
        ```sql
        select year(release_date), movie_name, sale_amt
        	from box_office
            where ranks = 1
            and sale_amt > (	select avg(sale_amt) -- 81906468809.5
        												from box_office
        												where ranks = 1
        										);
        ```
        
    - **ì„œë¡œ ë‹¤ë¥¸ í…Œì´ë¸” ì´ìš©**
        
        ```sql
        use world;
        ```
        
        **1 )** ìŠ¤ì¹¼ë¼ ì„œë¸Œì¿¼ë¦¬ ì´ìš©
        
        ```sql
        -- city í…Œì´ë¸”ê³¼ country í…Œì´ë¸”ì„ ë‚´ë¶€ ì¡°ì¸í•´ì„œ countryì— ìˆëŠ” ì •ë³´ë¥¼ ì¶”ê°€ë¡œ ê°€ì ¸ì™”ì—ˆìŒ
        select a.*, b.name
        	from city a
            inner join country b
            on a.countrycode = b.code;
        
        -- > ìœ„ì˜ ì½”ë“œë¥¼ ìŠ¤ì¹¼ë¼ ì„œë¸Œì¿¼ë¦¬ë¡œ 
        select a.*, 
        (	select b.name
        		from country b
            where a.countrycode = b.code
        ) countryname
        	from city a;
        ```
        
        ìŠ¤ì¹¼ë¼ ì„œë¸Œì¿¼ë¦¬ ì•ˆì— ë‘ê°œ ì´ìƒì˜ ì»¬ëŸ¼ì„ ë„£ìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œ ë¨!
        ì´ëŸ´ë•Œ concat í•¨ìˆ˜ë¥¼ ì¨ì„œ í•œ ì»¬ëŸ¼ìœ¼ë¡œ ë§Œë“¤ë©´ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.
        
        ```sql
        select a.*,
        (	select concat(b.name, '/', b.continent)
        		from country b
            where a.countrycode = b.code
        ) countryname
        	from city a;
        ```
        
        **2 )** íŒŒìƒ í…Œì´ë¸” ì‘ìš©
        
        ```sql
        use mywork;
        ```
        
        1ë‹¨ê³„ : í˜„ì¬ ê´€ë¦¬ìì˜ ë¶€ì„œë²ˆí˜¸, ì‚¬ë²ˆ, ì‚¬ì›ì´ë¦„ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬
        
        ```sql
        select b.dept_no, b.emp_no, concat(c.first_name, ' ', c.last_name)
        	from dept_manager b
            inner join employees c
        		on b.emp_no = c.emp_no
            where sysdate() between b.from_date and b.to_date;
        ```
        
        2ë‹¨ê³„ : ë¶€ì„œëª…ê¹Œì§€ ì¶”ê°€
        
        ```sql
        select b.dept_no, b.emp_no, concat(c.first_name, ' ', c.last_name), a.dept_name
        	from dept_manager b
            inner join employees c
        		on b.emp_no = c.emp_no
        	inner join departments a
        		on a.dept_no = b.dept_no
            where sysdate() between b.from_date and b.to_date; -- 9ê±´ ì¡°íšŒ
        ```
        
        ìœ„ì˜ ë‹¨ê³„ë¥¼ í•©ì³ ì„œë¸Œì¿¼ë¦¬ë¡œ ì‘ì„±
        
        ```sql
        select a.dept_no, a.dept_name, manager.emp_no, full_name
        	from departments a
            inner join (	select b.dept_no, b.emp_no, concat(c.first_name, ' ', c.last_name) full_name
        										from dept_manager b
        										inner join employees c
        										on b.emp_no = c.emp_no
        								) manager
            on a.dept_no = manager.dept_no;
        ```
        
    
    ğŸ–***Workshop***
    
    box_office í…Œì´ë¸”ì—ì„œ 2015ë…„ ì´í›„ ì—°ë„ë³„ ìˆœìœ„ê°€ 1~3ìœ„ì¸ ì˜í™”ì™€
    í•´ë‹¹ ì˜í™”ì˜ ë§¤ì¶œì•¡ì´ "ì—°ë„ë³„ ì „ì²´ ë§¤ì¶œì•¡"ì—ì„œ ì°¨ì§€í•˜ëŠ” ë¹„ìœ¨ì„ êµ¬í•˜ëŠ” ì¿¼ë¦¬ ì‘ì„±
    
    1ë‹¨ê³„ : "ì—°ë„ë³„ ì „ì²´ ë§¤ì¶œì•¡"ì„ êµ¬í•˜ëŠ” ë¶€ë¶„
    
    ```sql
    select year(release_date), sum(sale_amt)
    	from box_office
        where year(release_date) >= 2015
        group by 1
        order by 1;
    ```
    
    2ë‹¨ê³„ : ì—°ë„ë³„ 1~3ìœ„ ì˜í™”ì˜ ì •ë³´ì™€ ë§¤ì¶œì•¡ì„ êµ¬í•œ ë’¤, ê° ì˜í™”ì˜ ë§¤ì¶œì•¡ì„ ì „ì²´ ë§¤ì¶œì•¡ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ë¶€ë¶„
    
    ```sql
    select year(a.release_date) 'year', a.ranks, a.movie_name, a.sale_amt, b.total_amt, 
    			 round((a.sale_amt/b.total_amt)*100, 2) percentage
    	from box_office a,
        (	select year(release_date) release_year, sum(sale_amt) total_amt
    				from box_office
    				where year(release_date) >= 2015
    				group by 1
        ) b
        where  year(a.release_date) = b.release_year and ranks <= 3
        group by 1, 2
        order by 1, 2;
    ```
    
    - **ì¡°ê±´ ì„œë¸Œì¿¼ë¦¬ ì‘ìš©**
        
        
        2019ë…„ ê°œë´‰í•œ ì˜í™”ì˜ ë§¤ì¶œì•¡ì´ 2018ë…„ë„ ìµœëŒ€ ë§¤ì¶œì•¡ë³´ë‹¤ í° ì˜í™”
        
        ```sql
        select movie_name, sale_amt
        	from box_office
        	where year(release_date) = 2019
          and sale_amt > (	select max(sale_amt) -- 102666146909 'ì‹ ê³¼í•¨ê»˜:ì¸ê³¼ ì—°'
        										from box_office
        										where year(release_date) = 2018
            );
        ```
        
        2018ë…„ë„ ìµœëŒ€ ë§¤ì¶œ ì˜¬ë¦° ì˜í™” ì¡°íšŒ
        
        ```sql
        select movie_name, sale_amt
        	from box_office
            where year(release_date) = 2018
            order by sale_amt desc;
        ```
        
        2018ë…„ë„ ìµœëŒ€ ë§¤ì¶œì„ ì˜¬ë¦° ì˜í™”ì™€ 2019ë…„ë„ì— 2018ë…„ ìµœëŒ€ ë§¤ì¶œë³´ë‹¤ í° ì˜í™”ë¥¼ í•¨ê»˜ í‘œì‹œ
        
        **1 )** option 1 : union
        
        ```sql
        select year(release_date), movie_name, sale_amt
        	from box_office
        	where year(release_date) = 2019
            and sale_amt > (	select max(sale_amt) -- 102666146909 / ì‹ ê³¼í•¨ê»˜:ì¸ê³¼ ì—°
        												from box_office
        												where year(release_date) = 2018
        										)
        union
        select year(release_date), movie_name, sale_amt
        	from box_office
            where year(release_date) = 2018
            order by sale_amt desc
            limit 5;
        ```
        
        **2 )** opion 2 : ì¡°ê±´ ì„œë¸Œì¿¼ë¦¬
        
        ```sql
        select year(release_date), movie_name, sale_amt
        	from box_office
        	where year(release_date) = 2019
            and sale_amt > (	select max(sale_amt) -- 102666146909 / ì‹ ê³¼í•¨ê»˜:ì¸ê³¼ ì—°
        												from box_office
        												where year(release_date) = 2018
        										)
        union
        select year(release_date), movie_name, sale_amt
        	from box_office
            where sale_amt = (	select max(sale_amt)
        														from box_office
                                    where year(release_date) = 2018
        										  );
        ```
        
    - **ALLê³¼ ANY**
        
        ì¡°ê±´ ì„œë¸Œì¿¼ë¦¬ì—ì„œ ë°˜í™˜í•˜ëŠ” ê°’ì´ ë‹¨ì¼ê°’ì´ì–´ì•¼ í•˜ì§€ë§Œ, 
        
        ì•„ë˜ ì˜ˆì œëŠ” ë‹¤ìˆ˜ì˜ ê°’ì´ ë‚˜ì™€ì„œ ì—ëŸ¬ ë°œìƒ
        
        ```sql
        select year(release_date), movie_name, sale_amt
        	from box_office
            where year(release_date) = 2019
            and sale_amt >= (	select sale_amt -- 1~3ìœ„ 3ê°œì˜ í–‰ì´ ë°˜í™˜ë˜ì–´ ë¬¸ì œ ë°œìƒ 
        												from box_office
        												where year(release_date) = 2018
        												and ranks between 1 and 3
        										);
        ```
        
        **ALL :** ì„œë¸Œì¿¼ë¦¬ì˜ ê²°ê³¼ë¡œ ë‚˜ì˜¨ ë‹¤ìˆ˜ì˜ ê°’ ëª¨ë‘ë¥¼ ë§Œì¡±í•˜ëŠ” ê²°ê³¼ë¥¼ ì¡°íšŒ
        
        ```sql
        select year(release_date), movie_name, sale_amt -- 4ê±´ ì¡°íšŒ 
        	from box_office
            where year(release_date) = 2019
            and sale_amt >= all (	select sale_amt -- 1~3ìœ„ 3ê°œì˜ í–‰ì´ ë°˜í™˜ë˜ì–´ ë¬¸ì œ ë°œìƒ 
        							from box_office
        							where year(release_date) = 2018
        							and ranks between 1 and 3
        					);
        ```
        
        **ANY :** ì„œë¸Œì¿¼ë¦¬ì˜ ê²°ê³¼ë¡œ ë‚˜ì˜¨ ë‹¤ìˆ˜ì˜ ê°’ ì¤‘ì— í•˜ë‚˜ë¼ë„ ë§Œì¡±í•˜ëŠ” ê²°ê³¼ë¥¼ ì¡°íšŒ
        
        ```sql
        select year(release_date), movie_name, sale_amt -- 5ê±´ ì¡°íšŒ 
        	from box_office
            where year(release_date) = 2019
            and sale_amt >= any (	select sale_amt -- 1~3ìœ„ 3ê°œì˜ í–‰ì´ ë°˜í™˜ë˜ì–´ ë¬¸ì œ ë°œìƒ 
        							from box_office
        							where year(release_date) = 2018
        							and ranks between 1 and 3
        					);
        ```
        
    - **INê³¼ EXISTS**
        
        2018ë…„ì— ê°œë´‰í•œ ì˜í™” ì¤‘ 2019ë…„ê¹Œì§€ ìƒì˜ì¤‘ì¸ ì˜í™”ì˜ ì´ë¦„ê³¼ ê°ë… ì¡°íšŒ
        
        **IN**
        
        ```sql
        select movie_name, director
        	from box_office
            where year(release_date) = 2019
            and (movie_name, director) in (	select movie_name, director
        																			from box_office
        																			where year(release_date) = 2018  );
        ```
        
        **EXISTS**
        
        ```sql
        select movie_name, director
        	from box_office a
            where year(release_date) = 2019
            and exists ( select *
        										from box_office b
                            where year(release_date) = 2018
                            and a.movie_name = b.movie_name
                            and a.director = b.director );
        ```
        
        2019ë…„ë„ 1~100 ìˆœìœ„ì•ˆì— ë“  ì˜í™”ì˜ ëŒ€í‘œêµ­ê°€(rep_country)ê°€ 2018ë…„ë„ 1~100 ìˆœìœ„ê¶Œì— ì—†ì—ˆë˜ ë‚˜ë¼
        
        **NOT IN**
        
        ```sql
        select movie_name, ranks, release_date, rep_country
        	from box_office
            where year(release_date) = 2019 and ranks between 1 and 100
            and rep_country not in ( select rep_country
        																from box_office
                                        where year(release_date) = 2018
                                        and ranks between 1 and 100 );
        ```
        
        **NOT EXISTS**
        
        ```sql
        select movie_name, ranks, release_date, rep_country
        	from box_office a
            where year(release_date) = 2019
            and ranks between 1 and 100
            and not exists ( select *
        												from box_office b
                                where year(release_date) = 2018
                                and ranks between 1 and 100
                                and a.rep_country = b.rep_country );
        ```
        
    
    ğŸ–***Workshop***
    
    **1 )** í˜„ì¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê° ë¶€ì„œì—ì„œ ê¸‰ì—¬ë¥¼ ê°€ì¥ ë§ì´ ë°›ëŠ” ì‚¬ì›ì´ ëˆ„êµ¬ì¸ì§€ ì°¾ëŠ” ì¿¼ë¦¬ ì‘ì„±
    
    ```sql
    select a.dept_no, max(b.salary)
    	from dept_emp a
        inner join salaries b
    		on a.emp_no = b.emp_no
    	where sysdate() between a.from_date and a.to_date
    	and sysdate() between b.from_date and b.to_date
      group by a.dept_no;
    ```
    
    *â†’ ìœ„ì˜ ì¿¼ë¦¬ë§Œìœ¼ë¡œëŠ” ë¶€ì„œë³„ ìµœëŒ€ ê¸‰ì—¬ê°’ì€ ì•Œ ìˆ˜ ìˆìœ¼ë‚˜, í•´ë‹¹ ì‚¬ì›ì˜ ì •ë³´ëŠ” ì•Œ ìˆ˜ ì—†ë‹¤!*
    
    ```sql
    select k.dept_no, c.emp_no, c.salary
      from salaries c,
           ( select a.dept_no, max(b.salary) max_salary
              from dept_emp a
              inner join salaries b
                on a.emp_no = b.emp_no
             where sysdate() between a.from_date and a.to_date
               and sysdate() between b.from_date and b.to_date
             group by a.dept_no       
           )k
     where c.salary = k.max_salary
     order by 1;
    ```
    
    **2 )** í˜„ì¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì–´ëŠ ë¶€ì„œì—ë„ ì†í•˜ì§€ ì•ŠëŠ” ì‚¬ì›ì€ ëª¨ë‘ ëª‡ ëª…ì¸ì§€ êµ¬í•˜ëŠ” ì¿¼ë¦¬ ì‘ì„±
    
    ```sql
    select count(*) -- 5888
    	from employees a
    	where a.emp_no not in ( select b.emp_no
    														from dept_emp b
                                where sysdate() between b.from_date and b.to_date )
    ```
    
    **3 )** box_office í…Œì´ë¸”ì—ì„œ 2018ë…„ê³¼ 2019ë…„ì— ê°œë´‰í•œ ì˜í™”ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì—°ë„ë³„, ë¶„ê¸°ë³„ ë§¤ì¶œì•¡ì„ êµ¬í•˜ë˜, ì•„ë˜ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì¡°íšŒë˜ë„ë¡ ì¿¼ë¦¬ ì‘ì„±
    
    *â†’ íŒíŠ¸ : case ~ end êµ¬ë¬¸ ì´ìš©, sum(sale_amt)ë¥¼ í™œìš©í•  ìˆ˜ ìˆëŠ” ì„œë¸Œì¿¼ë¦¬*
    
    ```sql
    -- --------------------------------------------------
    -- ì—°ë„  |    1ë¶„ê¸°  |   2ë¶„ê¸°  |   3ë¶„ê¸°  |  4ë¶„ê¸° 
    -- --------------------------------------------------
    -- 2018  |           |          |          |
    -- -------------------------------------------------- 
    -- 2019  |           |          |          |
    -- --------------------------------------------------
    ```
    
    1ë‹¨ê³„ : 
    
    ```sql
    select year(release_date), quarter(release_date),
    	   case quarter(release_date) when 1 then sum(sale_amt) else 0 end "1ë¶„ê¸°",
         case quarter(release_date) when 2 then sum(sale_amt) else 0 end "2ë¶„ê¸°",
         case quarter(release_date) when 3 then sum(sale_amt) else 0 end "3ë¶„ê¸°",
         case quarter(release_date) when 4 then sum(sale_amt) else 0 end "4ë¶„ê¸°"
    	from box_office
      where year(release_date) in (2018, 2019)
      group by 1, 2
      order by 1, 2;
    ```
    
    ![image](https://user-images.githubusercontent.com/106129152/200765655-d764391f-c4b9-4b74-b4e7-47392f6fe586.png)
    
    2ë‹¨ê³„ : 
    
    ```sql
    select a.years ì—°ë„,
    	   case a.qtr when 1 then a.qt_sum_amt else 0 end "1ë¶„ê¸°",
         case a.qtr when 2 then a.qt_sum_amt else 0 end "2ë¶„ê¸°",
         case a.qtr when 3 then a.qt_sum_amt else 0 end "3ë¶„ê¸°",
         case a.qtr when 4 then a.qt_sum_amt else 0 end "4ë¶„ê¸°"
    	from (	select year(release_date) years, quarter(release_date) qtr, sum(sale_amt) qt_sum_amt
    				   from box_office
    				   where year(release_date) in (2018, 2019)
    				   group by 1, 2
    				   order by 1, 2
    		 )a;
    ```
    
    ![image](https://user-images.githubusercontent.com/106129152/200765676-65dfc8b3-57be-4f58-953b-da7a56bdbe34.png)
    
    3ë‹¨ê³„ : 
    
    ```sql
    select a.years ì—°ë„,
    		   sum(case a.qtr when 1 then a.qt_sum_amt else 0 end) "1ë¶„ê¸°",
           sum(case a.qtr when 2 then a.qt_sum_amt else 0 end) "2ë¶„ê¸°",
           sum(case a.qtr when 3 then a.qt_sum_amt else 0 end) "3ë¶„ê¸°",
           sum(case a.qtr when 4 then a.qt_sum_amt else 0 end) "4ë¶„ê¸°"
    	from (	select year(release_date) years, quarter(release_date) qtr, sum(sale_amt) qt_sum_amt
    							   from box_office
    							   where year(release_date) in (2018, 2019)
    							   group by 1, 2
    							   order by 1, 2
    		   )a
    	group by 1;
    ```
    
    ![image](https://user-images.githubusercontent.com/106129152/200765721-790d8e78-e364-4f32-bcd5-2d87ba0bcc4d.png)
    
    *â†’ [ì„œë¸Œì¿¼ë¦¬ ì •ë¦¬](https://inpa.tistory.com/entry/MYSQL-%F0%9F%93%9A-%EC%84%9C%EB%B8%8C%EC%BF%BC%EB%A6%AC-%EC%A0%95%EB%A6%AC)*
    

- **íŠ¸ëœì­ì…˜ ì²˜ë¦¬ - INSERT**
    
    
    **íŠ¸ëœì­ì…˜** *Transaction*ì€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒíƒœë¥¼ ë°”ê¾¸ëŠ” ì¼ì¢…ì˜ ì‘ì—… ë‹¨ìœ„ì´ë‹¤.
    
    **INSERT :** ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸”ì— ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ì¶”ê°€(ì €ì¥)í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ì´ë‹¤.
    
    ```sql
    -- í…Œì´ë¸” ìƒì„±í•˜ê¸°
    create table emp_test(
    		emp_no int not null,
        emp_name varchar(30) not null,
        hire_date date null,
        salary int null,
        primary key (emp_no)
    );
    ```
    
    - **ë‹¨ì¼ ë¡œìš° ì…ë ¥ insertë¬¸**
        
        ```sql
        insert into emp_test(emp_no, emp_name, hire_date, salary)
        	values (1001, 'ì•„ì¸ìŠˆíƒ€ì¸', '2021-01-01', 1000);
        
        insert into emp_test(emp_no, emp_name, hire_date)
        	values (1002, 'ì•„ì´ì‘ë‰´í„´', '2021-02-01');
        
        insert into emp_test(hire_date, emp_no, emp_name)
        	values ('2021-02-10', 1003, 'ê°ˆë¦´ë ˆì˜¤');
        ```
        
    
    *â†’ ì˜¤ë¥˜ ì˜ˆì‹œ*
    
    ```sql
    -- (ì˜¤ë¥˜ ì˜ˆì‹œ) not null ì˜µì…˜ì´ ìˆëŠ” emp_name ì»¬ëŸ¼ì„ ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ 
    insert into emp_test(emp_no, hire_date)
    	values (1004, '2021-02-10'); -- ì—ëŸ¬ ë°œìƒ!!
    
    -- (ì˜¤ë¥˜ ì˜ˆì‹œ) pk(primary key)ì— ì¤‘ë³µê°’ì„ ì…ë ¥í•œë‹¤ë©´ 
    insert into emp_test(emp_no, emp_name, hire_date)
    	values (1003, 'ë¦¬ì²˜ë“œíŒŒì¸ë§Œ', '2021-01-10'); -- ì—ëŸ¬ ë°œìƒ!!
    ```
    
    ì»¬ëŸ¼ëª…ì„ ìƒëµí•´ë„ ì…ë ¥ì´ ì˜ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
    
    ```sql
    insert into emp_test values (1004, 'ë¦¬ì²˜ë“œíŒŒì¸ë§Œ', '2021-01-10', 3000); 
    ```
    
    - **ë‹¤ì¤‘ ë¡œìš° ì…ë ¥ insertë¬¸**
        
        ```sql
        insert into emp_test values
        row (1005, 'í€´ë¦¬ë¶€ì¸', '2021-03-01', 4000),
        row (1006, 'ìŠ¤í‹°ë¸í˜¸í‚¹', '2021-04-05', 5000);
        ```
        
    
    rowë¥¼ ìƒëµí•´ë„ ì…ë ¥ì´ ê°€ëŠ¥í•˜ë‹¤.
    
    ```sql
    insert into emp_test values 
    (1007, 'ë§ˆì´í´íŒ¨ëŸ¬ë°ì´', '2021-04-01', 2200),
    (1008, 'ë§¥ìŠ¤ì›°', '2021-04-05', 3300),
    (1009, 'ë§‰ìŠ¤í´ë‘í¬', '2021-04-05', 4400);
    ```
    
    - **selectë¬¸ì´ ê²°í•©ëœ insertë¬¸**
        
        ```sql
        -- í…Œì´ë¸” ìƒì„±
        create table emp_test2(
        		emp_no int not null,
            emp_name varchar(30) not null,
            hire_date date null,
            salary int null,
            primary key (emp_no)
        );
        ```
        
        ```sql
        insert into emp_test2
        select *
        	from emp_test
          where emp_no in (1003, 1004);
        -- 2í–‰ì´ ì¶”ê°€ë˜ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ.
        ```
        
        â†’ *ì˜¤ë¥˜ ì˜ˆì‹œ*
        
        ```sql
        -- (ì˜¤ë¥˜ ì˜ˆì‹œ) ì¤‘ë³µëœ keyê°’ 1004 ì…ë ¥ 
        insert into emp_test2
        select *
        	from emp_test
            where emp_no >= 1004; -- ì—ëŸ¬ ë°œìƒ!!
        ```
        
        ```sql
        insert into emp_test
        select emp_no+10, emp_name, hire_date, 100
        	from emp_test
          where emp_no >= 1008;
        ```
        
    
    ***ğŸ–Workshop***
    
    emp_test í…Œì´ë¸”ì— insertë¬¸ì„ ì‚¬ìš©í•´ì„œ ì•„ë˜ì™€ ê°™ì´ ì…ë ¥
    
    ```sql
    -- --------------------------------------------------
    -- ì‚¬ë²ˆ  |   ì´ë¦„   |      ì…ì‚¬ì¼     |   ê¸‰ì—¬
    -- --------------------------------------------------
    -- 2001 |  ì¥ì˜ì‹¤  |   2020-01-01   |   1500
    -- --------------------------------------------------
    -- 2002 |  ìµœë¬´ì„   |   2020-01-31   |
    -- ---------------------------------------------------
    ```
    
    ```sql
    insert into emp_test values
    (2001, 'ì¥ì˜ì‹¤', '2020-01-01', 1500),
    (2002, 'ìµœë¬´ì„ ', '2020-01-31', null);
    ```
    
    *â†’ [MySQL íŠ¸ëœì­ì…˜ ì •ë¦¬](https://inpa.tistory.com/entry/MYSQL-%F0%9F%93%9A-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98Transaction-%EC%9D%B4%EB%9E%80-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC), [MySQL INSERT, UPDATE, DELETE êµ¬ë¬¸ ì‚¬ìš©í•˜ê¸°](https://velog.io/@ss-won/DatabaseMySQL-MySQL-INSERT-UPDATE-DELETE-%EA%B5%AC%EB%AC%B8-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0)*
